<!DOCTYPE html>
<html>
<head>
    <title>Create Clean Template</title>
</head>
<body>
    <h1>Creating Clean Template...</h1>
    <canvas id="canvas" width="1080" height="1527"></canvas>
    <br><br>
    <button onclick="downloadTemplate()">Download Clean Template</button>

    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        
        // Load original template
        const img = new Image();
        img.onload = function() {
            // Draw the original image
            ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
            
            // Cover the bottom area with cream background
            const bottomHeight = canvas.height * 0.08; // 8% from bottom
            ctx.fillStyle = '#f8f6f0'; // Cream color to match template
            ctx.fillRect(0, canvas.height - bottomHeight, canvas.width, bottomHeight);
            
            console.log('Clean template ready!');
        };
        
        img.src = '/template-news.png';
        
        function downloadTemplate() {
            // Convert canvas to blob and download
            canvas.toBlob(function(blob) {
                const link = document.createElement('a');
                link.download = 'template-news-clean.png';
                link.href = URL.createObjectURL(blob);
                link.click();
            }, 'image/png');
        }
        
        // Auto-generate after 2 seconds
        setTimeout(() => {
            const img = new Image();
            img.onload = function() {
                // Draw the original image
                ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
                
                // Cover the bottom area with cream background
                const bottomHeight = canvas.height * 0.08;
                ctx.fillStyle = '#f8f6f0';
                ctx.fillRect(0, canvas.height - bottomHeight, canvas.width, bottomHeight);
                
                // Auto-download
                canvas.toBlob(function(blob) {
                    const link = document.createElement('a');
                    link.download = 'template-news-clean.png';
                    link.href = URL.createObjectURL(blob);
                    document.body.appendChild(link);
                    link.click();
                    document.body.removeChild(link);
                }, 'image/png');
            };
            img.src = '/template-news.png';
        }, 2000);
    </script>
</body>
</html>